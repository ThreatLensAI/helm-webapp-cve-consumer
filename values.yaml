# Name override instead of fullname (helm-webapp-cve-consumer)
nameOverride: 'cve-consumer'

# Docker Hub credentials secret
secrets:
  dockerhubconfigjson: ''

env:
  KAFKA_BROKERS: 'localhost:9092,localhost:9093,localhost:9094'
  KAFKA_TOPIC: 'test_topic1'
  KAFKA_CONSUMER_GROUP_ID: 'cve'
  KAFKA_MAX_SIZE: '10e6'
  PORT: '3001'

initContainers:
  - name: 'db-migrate'
    repository: marlapativ/db-migration
    tag: 'latest'
    pullPolicy: Always
    command: ['flyway']
    args: ['migrate']

pod:
  readinessProbe:
    path: /readiness
  livenessProbe:
    path: /liveness

podLabels: {}

podAnnotations: {}

serviceAccount:
  create: true
  name: 'webapp-cve-consumer-sa'
  automount: false
  annotations: {}

resources: {}

db:
  secrets:
    username: ''
    password: ''
    database: ''
  config:
    host: ''
    port: '5432'

kafka:
  secrets:
    username: ''
    password: ''

replicaCount: 3

image:
  repository: marlapativ/webapp-cve-consumer
  tag: 'latest'
  pullPolicy: Always

affinity:
  enable: true
  topologyKey: topology.kubernetes.io/zone

pdb:
  create: true
  minAvailable: 2
  maxUnavailable: {}
